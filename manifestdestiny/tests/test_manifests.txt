Test the manifest parser
========================

Ensure basic parser is sane:

    >>> from manifestdestiny import ManifestParser
    >>> parser = ManifestParser()
    >>> parser.read('mozmill-example.ini')
    >>> tests = parser.tests
    >>> len(tests) == len(file('mozmill-example.ini').read().strip().splitlines())
    True
    
Ensure that capitalization and order aren't an issue:

    >>> lines = ['[%s]' % test for test in tests]
    >>> lines == file('mozmill-example.ini').read().strip().splitlines()
    True

Show how you select subsets of tests:

    >>> parser.read('mozmill-restart-example.ini')
    >>> restart_tests = parser.get(type='restart')
    >>> len(restart_tests) < len(parser.tests)
    True
    >>> len(restart_tests) == len(parser.get(manifest='mozmill-restart-example.ini'))
    True
    >>> assert not [i for i in restart_tests if restart_tests[i]['manifest'] != 'mozmill-restart-example.ini']
    >>> parser.get('foo').keys()
    ['restartTests/testExtensionInstallUninstall/test2.js', 'restartTests/testExtensionInstallUninstall/test1.js']
    >>> parser.get(foo='bar').keys()
    ['restartTests/testExtensionInstallUninstall/test2.js']
